<nav #navbar class="navbar navbar-expand-lg navbar-absolute bg-white">
  <div class="container-fluid">
    <div class="navbar-wrapper">
      <div class="navbar-minimize">
        <button id="minimizeSidebar" class="btn btn-icon btn-round" (click)="minimizeSidebar()">
          <i class="fa fa-ellipsis-v visible-on-sidebar-regular" aria-hidden="true"></i>
          <i class="fa fa-bars visible-on-sidebar-mini" aria-hidden="true"></i>
        </button>
      </div>
      <div class="navbar-toggle" (click)="sidebarToggle()">
        <button type="button" class="navbar-toggler">
          <span class="navbar-toggler-bar bar1"></span>
          <span class="navbar-toggler-bar bar2"></span>
          <span class="navbar-toggler-bar bar3"></span>
        </button>
      </div>
      <a class="navbar-brand" href="javascript:void(0)">{{(title$ | async)}}</a>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation" (click)="open = !open"
      >
      <span class="navbar-toggler-bar navbar-kebab"></span>
      <span class="navbar-toggler-bar navbar-kebab"></span>
      <span class="navbar-toggler-bar navbar-kebab"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-end" id="navigation">
      <!-- <form>
        <div class="input-group no-border">
          <input type="text" value="" class="form-control" placeholder="Search...">
          <div class="input-group-append">
            <div class="input-group-text">
              <i class="nc-icon nc-zoom-split"></i>
            </div>
          </div>
        </div>
      </form> -->
      <select [value]="branch_id" name="defaultBranch" id="branch" class="branch" style="margin: 10px 0;"
              (change)="onChangeDefaultBranch($event)">
        <option *ngFor="let branch of (branch$ | async)" [value]="branch.id">
          {{branch.name}}
        </option>
      </select>
      <ul class="navbar-nav">
<!--        <li class="nav-item">-->
<!--          <a class="nav-link btn-magnify" href="javascript:void(0)">-->
<!--            <i class="nc-icon nc-layout-11"></i>-->
<!--            <p>-->
<!--              <span class="d-lg-none d-md-block">Stats</span>-->
<!--            </p>-->
<!--          </a>-->
<!--        </li>-->
        <li *ngIf="role === 'principal' || role === 'manager' || role === 'teacher'" class="nav-item btn-rotate dropdown" style="z-index: 999 !important;">
          <a class="nav-link dropdown-toggle" href="pablo" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <div *ngIf="newNotification" style="position: absolute; margin-left: 10px; background-color: red; width: 10px; height: 10px; border-radius: 10px;"></div>
            <i class="nc-icon nc-bell-55"></i>
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink" style="width: 400px; padding: 20px;">
            <a *ngFor="let notification of (notification$ | async); let i = index;" href="javascript:void(0)" (click)="readNotification(notification)">
              <div style="display: flex; align-items: center;">
                <div *ngIf="notification.status === 'new'" style="display: flex;width: 10px; height: 10px; border-radius: 10px; margin-right: 10px; background-color: red"></div>
                <div style="display: flex;flex: 1;flex-direction: column;">
                  <div>{{notification.subject}}</div>
                  <div style="font-size: 10px; display: -webkit-box;-webkit-line-clamp: 1;-webkit-box-orient: vertical;overflow: hidden;">
                    {{notification.description}}
                  </div>
                </div>
              </div>
              <hr />
            </a>
          </div>
        </li>
<!--        <li class="nav-item">-->
<!--          <a class="nav-link btn-rotate" href="javascript:void(0)">-->
<!--            <i class="nc-icon nc-settings-gear-65"></i>-->
<!--            <p>-->
<!--              <span class="d-lg-none d-md-block">Account</span>-->
<!--            </p>-->
<!--          </a>-->
<!--        </li>-->
      </ul>
    </div>
  </div>
</nav>
